function NoJQueryPostMessageMixin(e,t){var n,o,i,s,r,c=1;return window.postMessage?(window.addEventListener?(n=function(e){window.addEventListener("message",e,!1)},o=function(e){window.removeEventListener("message",e,!1)}):(n=function(e){window.attachEvent("onmessage",e)},o=function(e){window.detachEvent("onmessage",e)}),this[e]=function(e,t,n){t&&n.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1"))},this[t]=function(e,t,s){return i&&(o(i),i=null),!!e&&void(i=n(function(n){switch(Object.prototype.toString.call(t)){case"[object String]":if(t!==n.origin)return!1;break;case"[object Function]":if(t(n.origin))return!1}e(n)}))}):(this[e]=function(e,t,n){t&&(n.location=t.replace(/#.*$/,"")+"#"+ +new Date+c++ +"&"+e)},this[t]=function(e,t,n){s&&(clearInterval(s),s=null),e&&(n="number"==typeof t?t:"number"==typeof n?n:100,s=setInterval(function(){var t=document.location.hash,n=/^#?\d+&/;t!==r&&n.test(t)&&(r=t,e({data:t.replace(n,"")}))},n))}),this}!function(e,t){var n=this;n.FS=n.FS||{},null==n.FS.PostMessage&&(n.FS.PostMessage=function(){var n,o,i,s=!1,r=!1,c=new NoJQueryPostMessageMixin("postMessage","receiveMessage"),a={},u=function(e){o=e,i=e.substring(0,e.indexOf("/","https://"===e.substring(0,"https://".length)?8:7)),g=""!==e},l=function(){c.receiveMessage(function(e){var t;try{if(t=JSON.parse(e.data),a[t.type])for(var n=0;n<a[t.type].length;n++)a[t.type][n](t.data)}catch(o){console.error("FS.PostMessage.receiveMessage",o.message),console.log(e.data)}},n)},d=-1,g=""!==o,f=e(window),p=e("html"),h=!0;try{h=window.self!==window.top}catch(v){}return h&&u(decodeURIComponent(document.location.hash.replace(/^#/,""))),{init:function(e,t){n=e,l(),FS.PostMessage.receiveOnce("forward",function(e){window.location=e.url}),t=t||[],t.length>0&&f.on("scroll",function(){for(var e=0;e<t.length;e++)FS.PostMessage.postScroll(t[e])})},init_child:function(t){t&&u(t),this.init(i),s=!0,r=!0,e(window).bind("load",function(){FS.PostMessage.postHeight(),FS.PostMessage.post("loaded")}),e(window).resize(function(){FS.PostMessage.postHeight(),FS.PostMessage.post("resize")})},hasParent:function(){return g},postHeight:function(t,n){t=t||0,n=n||"#wrap_section";var o=t+e(n).outerHeight(!0);return o!=d&&(this.post("height",{height:o}),d=o,!0)},postScroll:function(e){this.post("scroll",{top:f.scrollTop(),height:f.height()-parseFloat(p.css("paddingTop"))-parseFloat(p.css("marginTop"))},e)},post:function(e,t,n){console.debug("PostMessage.post",e),n?c.postMessage(JSON.stringify({type:e,data:t}),n.src,n.contentWindow):c.postMessage(JSON.stringify({type:e,data:t}),o,window.parent)},receive:function(e,t){console.debug("PostMessage.receive",e),null==a[e]&&(a[e]=[]),a[e].push(t)},receiveOnce:function(e,n,o){o=t!==o&&o,o&&this.unset(e),this.is_set(e)||this.receive(e,n)},is_set:function(e){return null!=a[e]},unset:function(e){a[e]=null},parent_url:function(){return o},parent_subdomain:function(){return i},isChildInitialized:function(){return r}}}())}(jQuery),function(e,t){var n=this;n.FS=n.FS||{},n.FS.Checkout=function(){var o=!1,i=navigator.userAgent.toLowerCase();/edge\/|trident\/|msie /.test(i)?(o=!0,console.log("browser","ie")):i.indexOf("safari")!=-1?i.indexOf("chrome")>-1?console.log("browser","chrome"):(o=!0,console.log("browser","safari")):console.log("browser","other");var s,r,c=!1,a=function(){for(var e=document.getElementsByTagName("script"),t=0;t<e.length;t++)if(-1!==e[t].src.indexOf("//checkout.freemius")){var n=e[t].src.substr("https://".length).indexOf("/");return-1===n?e[t].src:e[t].src.substr(0,n+"https://".length)}return"https://checkout.freemius.com"},u=a(),l=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},d=function(){return l()+l()+"-"+l()+"-"+l()+"-"+l()+"-"+l()+l()+l()},g={mode:"dialog",guid:d()},f=2147483647,p=function(t){return t=e.extend({},g,t),null==t.plugin_id&&console.error("plugin_id must be configured."),null==t.public_key&&console.error("public_key must be configured."),y(t,"timestamp","s_ctx_ts"),y(t,"sandbox_token","sandbox"),t},h=function(t){var n=u+"/?"+w(t)+"#"+encodeURIComponent(document.location.href);r=e('<iframe id="'+t.guid+'" src="'+n+'" width="100%" height="100%" allowtransparency="true" frameborder="0" style="z-index: '+f+"; background: rgba(0,0,0,0.003); border: 0px none transparent; visibility: "+(o?"hidden":"visible")+'; margin: 0px; padding: 0; position: fixed; left: 0px; top: 0px; width: 100%; height: 100%; -webkit-tap-highlight-color: transparent; overflow: hidden;"></iframe>').appendTo("body"),c||(FS.PostMessage.init(u),c=!0)},v=function(t){if(e(document.body).css("overflowX",s.x),e(document.body).css("overflowY",s.y),e("#"+t.guid).remove(),t.afterClose)try{t.afterClose()}catch(n){console.log(n)}},m=function(t){e("#loader_"+t.guid).show(),s={x:e(document.body).css("overflowX"),y:e(document.body).css("overflowY")},e(document.body).css("overflow","hidden"),h(t),FS.PostMessage.receiveOnce("upgraded",function(e){if(t.success)try{t.success(e)}catch(n){console.log(n)}v(t)},!0),FS.PostMessage.receiveOnce("purchaseCompleted",function(e){if(t.purchaseCompleted)try{t.purchaseCompleted(e)}catch(n){console.log(n)}},!0),FS.PostMessage.receiveOnce("canceled",function(e){if(t.cancel)try{t.cancel(e)}catch(n){console.log(n)}v(t)},!0),FS.PostMessage.receiveOnce("loaded",function(n){e("#loader_"+t.guid).hide(),o&&e("#"+t.guid).ready(function(){e("#"+t.guid).css("visibility","visible")})},!0)},w=function(e){var t="";for(var n in e)!e.hasOwnProperty(n)||"function"==typeof e[n]||"object"==typeof e[n]&&null!==e[n]||(t+="&"+n+"="+b(e[n]));return t.length>0&&(t=t.substr(1)),t},b=function(e){return null===e?"null":!0===e?"1":!1===e?"0":encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")},y=function(e,n,o){t!==e[n]&&(e[o]=e[n],delete e[n])},x=function(){e(document.body).append('<div id="loader_'+g.guid+'" style="                display: none;                position: fixed;                z-index: '+f+';                width: 100%;                height: 100%;                top: 0;                left: 0;                right: 0;                bottom: 0;                text-align: left;                background: rgba(0,0,0,0.6);                ">                <img src="'+u+'/assets/img/loader.gif" alt="Loading animation" style="                position: absolute;                top: 40%;                left: 50%;                margin-left: -25px;                background: #fff;                padding: 10px;                border-radius: 50%;                box-shadow: 2px 2px 2px rgba(0,0,0,0.1);                ">                </div>')},M=function(){var e=window.location.toString(),t=e.indexOf("__fs_authorization="),n=e.indexOf("?");if(0<n&&n<t){var o=e.indexOf("#");0<o&&(e=e.substr(0,o));var i,s=e.split("?")[1],r={},c=0,a=new RegExp("\\+","g");s=s.split("&");for(var u=0;u<s.length;u++)i=s[u].split("="),i[0].length>5&&"__fs_"==i[0].substr(0,5)&&(r[i[0]]=decodeURIComponent(i[1].replace(a," ")),c++);if(c>1)return r}return!1};return{configure:function(e){g=p(e||{}),x();var t=M();return!1!==t&&this.open(t),n.FS.Checkout},open:function(e){m(p(e))},close:function(){FS.PostMessage.post("close",null,r[0])},clearOptions:function(){g={mode:g.mode,guid:g.guid}}}}()}(jQuery);